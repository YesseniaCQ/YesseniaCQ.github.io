---
title: 移动软件后，环境变量和注册表的更改，以及右键-打开方式出现无效克隆体的解决方法
banner: https://cdn.jsdelivr.net/gh/YesseniaCQ/img/video/心壑/心壑.m3u8
date: 2023-10-09 16:11:49
tags:

---

这篇博文用来记录我对注册表的一些浅显认知好了，各位还是卸载重装吧，能劝一个是一个……

___

如果之前软件装的位置想换，但只换软件所在文件夹位置不够，还有环境变量以及注册表这两个最基础的要改动。

环境变量在系统变量和用户变量中找到你移动的软件，改成新路径。

注册表就比较麻烦。

 1. 修改打开方式里软件的失效路径，确保能使用该软件

    `HKEY_CLASSES_ROOT\Applications`里`ctrl+f`找到移动的软件名字。
    	1.1. 改图标路径

    ​			`DefaultIcon`里数据改成新路径。

    ​	1.2 改调用shell打开的命令路径

    ​			`shell-open-command`里数据改成新路径（注意"%1"不要误删）

    这时右键打开方式就能看见了，运气好的话只有一个能正常运行的软件选项。

    运气不好即打开方式有失效的另一个同名软件，看2吧。

 2. 打开方式出现失效的同名软件

    ​	2.1 看看打开方式的正常排布情况，即没有同名无效软件的（题外话）

    ​	`HKEY_CLASSES_ROOT\SystemFileAssociations`里`OpenWithProgIDs`，`ctrl+f`找到你想右键的那个文件对应的拓展名（.extension)。比如我移了`Typora`后，就需要查找`.md`。你会看到和正常打开方式的排布，但如果不一样——有同名无效软件，可以试着删删看？

    ​	2.2  网上的办法

    `HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Explorer\FileExts`里`ctrl+f`找.extension，在`OpenWithList`里看看是不是有重复的数值，有的话删一个试试（具体哪个我也不知道，因为这个方法对我没生效，全删光了但打开方式还是有两个）。

    ​	2.3 上面不行的话

    ​	`HKEY_CLASSES_ROOT`里`ctrl+f`搜索`软件名.extension`，比如我就是`Typora.md`，进行1的操作，改新路径。然后包括下面同软件名不同扩展名的项也改掉。（我好像是做了这一步后，同名无效软件才消失的）

    ___

    如果没有太多自定义设置，还是建议重装。因为除了这些要改，还有桌面快捷方式、任务栏图标消失，可能的卸载失败，系统自动调用失败等各种bug。更别提我这种因为工具早期装在中文文件夹，后期装在另一个英文文件夹，把中文里的全部剪切到英文里，一大堆软件要改。乏了。
